# <div id="testReading">Читаю</div> <input type="checkbox" id="reading" name="reading" checked /> | <div id="testListening">Слушаю</div> <input type="checkbox" id="toggle-content" name="listening" checked/>

```dataviewjs
	let booksCSS = "";
	let footer = "";
	let bookClass = ""

	let booksData = dv.pages('"Просвещение/Книги" or "Просвещение/Аудиокниги"').where(page => {
		if (page.читаю || (page.Слушаю)) return page;
	});
	
	for (let book of booksData) {
		// book.Читает ? footer = `Читает: ${book.Читает}` : footer = book.ISBN;
		
		if (book.Читает) {
			bookClass = "listening";
			footer = `Читает: ${book.Читает}`;
		} else {
			bookClass = "reading";
			footer = book.ISBN;
		}
		
		booksCSS += `<div class="book ${bookClass}">
			<div class="header">
				<div class="title">${book.file.name}</div>
				<div class="author">${book.Автор}</div>
			</div>
			<div class="cover">
				<a href="${book.file.path}" class="internal-link" aria-label="${book.Название}"><img src="${book.Обложка}" alt="" /></a>
			</div>
			<div class="footer">
				<div><progress max='${book.ПрогрессMax}' value='${book.Прогресс}'></progress></div>
				<div>${footer}</div>
			</div>
		</div>`
	}
	
	dv.el("div", booksCSS, {cls: "books"});
	
	
	
	
	
	/*
	await document.getElementById("reading").addEventListener("change", (e) => {
		let readingBooks = document.getElementsByClassName("reading");
		
		//console.log("cb", e.target);
		if(e.checked) {
			for (let book of readingBooks){
				console.log("item111111", book);
				book.style.display = "none";
			}	
		} else {
			for (let book of readingBooks){
			console.log("item444444", book);
			book.style.display = "block";
			}
		}
	})
	*/
	
	
	let testReading = await document.getElementById("testReading");
	
	testReading.addEventListener("click", el => {
		//console.log("el", el);
		document.getElementById("testReading").style.color = "gray";
		
		let readingBooks = document.getElementsByClassName("reading");
		for (let book of readingBooks){
			//console.log("item111111", book);
			book.style.display = "none";
		}	
	});
	
	
	let testListening = await document.getElementById("testListening");
	
	testListening.addEventListener("click", () => {
		//console.log("el", el);
		document.getElementById("testListening").style.color = "gray";
		
		let readingBooks = document.getElementsByClassName("listening");
		for (let book of readingBooks){
			//console.log("item111111", book);
			book.style.display = "none";
		}	
	});

```

---

# К прочтению | Для прослушивания

```dataviewjs
	let booksCSS = "";

	///let booksData = dv.pages('"Просвещение/Книги"').where(page => {
	//	if (page.читаю == false && page.прочитано == false) return page;
	//});
	
	let booksData = dv.pages('"Просвещение/Книги" or "Просвещение/Аудиокниги"').where(page => {
		if ((page.читаю == false && page.прочитано == false) || (page.Слушаю == false && page.Прослушано == false)) return page;
	}).sort(page => page.file.ctime, "desc");
	
	let footer;
	for (let book of booksData) {
		book.Читает ? footer = `Читает: ${book.Читает}` : footer = book.ISBN;
	
		booksCSS += `<div class="book">
			<div class="header">
				<div class="title">${book.file.name}</div>
				<div class="author">${book.Автор}</div>
			</div>
			<div class="cover">
				<a href="${book.file.path}" class="internal-link" aria-label="${book.Название}"><img src="${book.Обложка}" /></a>
			</div>
			<div class="footer">
				<div>${footer}</div>
			</div>
		</div>`
	}
	
	dv.el("div", booksCSS, {cls: "books"})
```

---

# Прочитано | Прослушано

```dataviewjs
	let booksCSS = "";

	let booksData = dv.pages('"Просвещение/Книги" or "Просвещение/Аудиокниги"').where(page => {
		if (page.прочитано || page.Прослушано) return page;
	}).sort(page => page.file.ctime, "desc");


	let footer;
	for (let book of booksData) {
		book.Читает ? footer = `Читает: ${book.Читает}` : footer = book.ISBN;
		
		booksCSS += `<div class="book">
			<div class="header">
				<div class="title">${book.file.name}</div>
				<div class="author">${book.Автор}</div>
			</div>
			<div class="cover">
				<a href="${book.file.path}" class="internal-link" aria-label="${book.Название}"><img src="${book.Обложка}" /></a>
			</div>
			<div class="footer">
				<div>${footer}</div>
			</div>
		</div>`
	}
	
	dv.el("div", booksCSS, {cls: "books"})
```
